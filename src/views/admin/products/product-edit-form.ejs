<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('../../partials/head', {title: 'Editando: ' + '¿?'}) %>
<body>
	<!-- Header -->
	<%- include('../../partials/headerNavbar') %>
	<!-- /Header -->

	<div class="container products-wrapper">
		<div class="row">
			<div class="col-12">
				<h2 class="products-title">Estás editando: <i><%= productToEdit.name %> </i></h2>
			</div>
		</div>
		<div class="col-12">
			<form action="/products/edit/<%= productToEdit.id %>?_method=PUT" method="post" enctype="multipart/form-data">
				<div class="row product-detail">
					<div class="col-12 col-md-6">
						<label for="name" class="form-label">Nombre del producto:</label>
						<input type="text" id="name" name="name" placeholder="Ej: Zapatillas Reebok" class="form-input" value="<%= productToEdit.name %> ">
					</div>
					<div class="col-12 col-md-6">
						<label for="mark" class="form-label">Marca:</label>
						<select name="mark" id="mark" class="form-input">
							<% marks.forEach(mark => { %>
								<option value="<%= mark.id %>" <%= mark.id === productToEdit.mark.id ? `selected`: '' %>><%= mark.name %></option>
							<% }) %>
						</select>
					</div>
					<div class="col-12 col-md-6">
						<label for="category" class="form-label">Categoría:</label>
						<select name="category" id="category" class="form-input">
							<option value="" selected hidden>Elegí</option>
							<% categories.forEach(category => { %>
								<option value="<%= category.id %>" <%= category.id === productToEdit.subcategory.category_id ? `selected`: '' %>><%= category.name %></option>
							<% }) %>
						</select>
					</div>
					<div class="col-12 col-md-6">
						<label for="subcategory" class="form-label">Subcategoría:</label>
						<select name="subcategory" id="subcategory" class="form-input">
							<option value="" selected hidden>Elegí</option>
							<% subcategories.forEach(subcategory => { %>
								<option value="<%= subcategory.id %>" <%= subcategory.id === productToEdit.subcategory.id ? `selected`: '' %>><%= subcategory.name %></option>
							<% }) %>
						</select>
					</div>
					<div class="col-12 col-md-6">
						<label for="price" class="form-label">Precio del producto:</label>
						<input type="text" id="price" name="price" placeholder="Ej: 5678" class="form-input" value="<%= productToEdit.price %>">
					</div>
					<div class="col-12 col-md-6">
						<label for="discount" class="form-label">Descuento:</label>
						<input type="text" id="discount" name="discount" placeholder="Ej: 15" class="form-input" value="<%= productToEdit.discount %>">
					</div>
					<div class="col-12 col-md-6">
						<label for="stock" class="form-label">Stock:</label>
						<input type="text" id="stock" name="stock" placeholder="Ej: 100" class="form-input" value="<%= productToEdit.stock %>">
					</div>
					<div class="col-12">
						<label for="description" class="form-label">Descipción:</label>
						<textarea name="description" id="description" class="form-input"><%= productToEdit.description %></textarea>
					</div>
					<div class="col-12">
						<label for="img1" class="form-label">Image:</label>
						<input type="file" name="image" id="img1">
					</div>
					<div class="col-12">
						<button type="submit" class="buy-now-button">Guardar producto</button>
					</div>
				</div>
			</form>
		</div>

	</div>
	<!-- /todos los productos -->

	<!-- footer -->
	<%- include('../../partials/footer') %>
	<!-- /footer -->
</body>	
</html>